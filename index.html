<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Gloria ‚Äî Valentine‚Äôs üíò</title>

<style>
:root{
  --bg1:#fff1f6;
  --bg2:#ffe4ef;
  --ink:#2a2438;
  --pink:#ff4d8d;
  --pink2:#ff79a8;
  --card:#ffffffcc;
  --shadow:0 20px 60px rgba(0,0,0,.10);
}

*{box-sizing:border-box}

body{
  margin:0;
  min-height:100vh;
  display:grid;
  place-items:center;
  font-family:ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
  color:var(--ink);
  background:
    radial-gradient(1200px 800px at 20% 10%,var(--bg2),transparent 60%),
    radial-gradient(900px 700px at 80% 30%,#ffd1e3,transparent 55%),
    linear-gradient(135deg,var(--bg1),#fff);

  overflow-x:hidden;
  overflow-y:auto;
  -webkit-overflow-scrolling:touch;
  padding:40px 0;
}

/* Big flashing nickname in the background */
#bgName{
  position:fixed;
  inset:0;
  z-index:0;
  pointer-events:none;
  display:grid;
  place-items:center;
  opacity:.10;
  filter: blur(.2px);
}
#bgName span{
  font-weight:950;
  letter-spacing:.5px;
  text-transform:uppercase;
  font-size:clamp(52px,10vw,140px);
  color:rgba(255,77,141,.45);
  transform:rotate(-8deg);
  animation: bgPulse 1.8s ease-in-out infinite;
  padding:0 18px;
  text-align:center;
}
@keyframes bgPulse{
  0%,100%{transform:rotate(-8deg) scale(1); opacity:.70}
  50%{transform:rotate(-8deg) scale(1.03); opacity:1}
}

/* Whisper layer */
#whispers{
  position:fixed;
  inset:0;
  pointer-events:none;
  z-index:1;
  overflow:hidden;
}
.whisper{
  position:absolute;
  left:50%;
  top:55%;
  transform:translate(-50%,-50%);
  font-weight:900;
  font-size:clamp(18px,3.5vw,32px);
  color:rgba(255,77,141,.18);
  white-space:nowrap;
  animation: whisperFloat 2.2s ease-out forwards;
}
@keyframes whisperFloat{
  0%{opacity:0; transform:translate(-50%,-50%) scale(.98)}
  15%{opacity:1}
  100%{opacity:0; transform:translate(-50%,-110%) scale(1.05)}
}

.card{
  width:min(760px,92vw);
  background:var(--card);
  border:1px solid rgba(255,77,141,.25);
  border-radius:28px;
  box-shadow:var(--shadow);
  padding:32px 28px;
  backdrop-filter:blur(10px);
  position:relative;
  z-index:2;
}

h1{text-align:center;font-size:clamp(30px,5vw,52px);margin:8px 0;}
p{text-align:center;font-size:clamp(15px,2.4vw,18px);margin:0 0 18px;}

.buttons{
  display:flex;
  gap:14px;
  justify-content:center;
  flex-wrap:wrap;
  min-height:90px;
}

button{
  border:0;
  border-radius:999px;
  padding:14px 22px;
  font-size:18px;
  font-weight:800;
  cursor:pointer;
  touch-action:manipulation;
  transition:transform .15s ease,box-shadow .15s ease, opacity .15s ease;
}

/* YES button: supports chasing via CSS vars */
#yesBtn{
  background:linear-gradient(135deg,var(--pink),var(--pink2));
  color:white;
  position:relative;
  z-index:2;
  box-shadow:0 14px 30px rgba(255,77,141,.35);

  --tx: 0px;
  --ty: 0px;
  --s: 1;
  transform: translate(var(--tx), var(--ty)) scale(var(--s));
}

#noBtn{
  background:#fff;
  border:1px solid rgba(42,36,56,.12);
  position:relative;
  z-index:1;
}

.footer{
  text-align:center;
  font-size:12px;
  color:rgba(42,36,56,.55);
  margin-top:16px;
}

.success{display:none;text-align:center;animation:pop .25s ease-out;}
@keyframes pop{from{transform:scale(.96);opacity:0}to{transform:scale(1);opacity:1}}

.confetti{
  position:fixed;
  inset:-10vh -10vw;
  pointer-events:none;
  overflow:hidden;
  display:none;
  z-index:3;
}

.confetti i{
  position:absolute;
  width:10px;
  height:16px;
  border-radius:2px;
  animation:fall 1.8s linear forwards;
}
@keyframes fall{ to{transform:translateY(120vh) rotate(520deg);} }

.optionArea{
  display:flex;
  flex-direction:column;
  gap:12px;
  align-items:center;
  margin-top:18px;
}

.resultCard{
  margin:18px auto 0;
  width:min(560px,94%);
  background:#fff;
  border:1px solid rgba(255,77,141,.18);
  border-radius:18px;
  padding:20px;
  box-shadow:0 12px 26px rgba(0,0,0,.07);
  animation:pop .25s ease-out;
}

.qrWrap{text-align:center;display:grid;place-items:center;gap:10px;}
.qrBox{padding:12px;border-radius:18px;border:1px solid rgba(255,77,141,.20);}
.primaryBtn{background:linear-gradient(135deg,var(--pink),var(--pink2));color:#fff;}
.tiny{font-size:12px;opacity:.65;margin-top:8px;}

/* Bouquet animation */
@keyframes fadeInImage{
  from{opacity:0; transform: translateY(8px) scale(.98);}
  to{opacity:1; transform: translateY(0) scale(1);}
}
.bouquet-img{ animation: fadeInImage .35s ease-out; }

/* ===== CHAOS MODE ===== */
@keyframes shakeBtn {
  0%,100%{transform:translate(0,0)}
  20%{transform:translate(-2px,1px)}
  40%{transform:translate(2px,-1px)}
  60%{transform:translate(-2px,-1px)}
  80%{transform:translate(2px,1px)}
}
.shake { animation: shakeBtn .25s linear; }

@keyframes flipNo { from{transform:rotateY(0)} to{transform:rotateY(360deg)} }
.flip { animation: flipNo .45s ease; }

@keyframes screenWiggle {
  0%,100%{transform:translate(0,0)}
  25%{transform:translate(1px,-1px)}
  50%{transform:translate(-1px,1px)}
  75%{transform:translate(1px,1px)}
}
.wiggle { animation: screenWiggle .18s linear; }

.toast {
  position:fixed;
  left:50%;
  bottom:18px;
  transform:translateX(-50%);
  background:rgba(255,255,255,.92);
  border:1px solid rgba(255,77,141,.25);
  box-shadow:0 18px 36px rgba(0,0,0,.12);
  border-radius:999px;
  padding:10px 14px;
  font-weight:800;
  z-index:999;
  opacity:0;
  transition:opacity .18s ease, transform .18s ease;
  pointer-events:none;
}
.toast.show { opacity:1; transform:translateX(-50%) translateY(-6px); }

.emoji {
  position:fixed;
  top:-30px;
  font-size:22px;
  z-index:3;
  pointer-events:none;
  animation: emojiFall 1.7s linear forwards;
  opacity:.95;
}
@keyframes emojiFall { to { transform:translateY(110vh) rotate(360deg); opacity:0.95; } }

.loadingBarWrap{
  width:min(520px,92%);
  margin:14px auto 0;
  height:12px;
  border-radius:999px;
  border:1px solid rgba(255,77,141,.25);
  background:rgba(255,255,255,.6);
  overflow:hidden;
}
.loadingBar{
  height:100%;
  width:0%;
  background:linear-gradient(135deg, var(--pink), var(--pink2));
  animation: loadBar 2s ease forwards;
}
@keyframes loadBar { to { width:100%; } }

/* ===== ACHIEVEMENTS ===== */
.achievement{
  position:fixed;
  top:18px;
  right:18px;
  width:min(320px,86vw);
  background:rgba(255,255,255,.95);
  border:1px solid rgba(255,77,141,.30);
  box-shadow:0 18px 44px rgba(0,0,0,.16);
  border-radius:18px;
  padding:12px 14px;
  z-index:1000;
  opacity:0;
  transform:translateY(-10px) scale(.98);
  transition:opacity .18s ease, transform .18s ease;
  pointer-events:none;
}
.achievement.show{ opacity:1; transform:translateY(0) scale(1); }
.ach-title{
  font-weight:900;
  font-size:14px;
  letter-spacing:.3px;
  display:flex;
  align-items:center;
  gap:8px;
}
.ach-sub{ font-size:12px; opacity:.75; margin-top:4px; }
.badge{
  width:28px;height:28px;border-radius:10px;
  display:grid;place-items:center;
  background:linear-gradient(135deg, rgba(255,77,141,.18), rgba(255,121,168,.14));
  border:1px solid rgba(255,77,141,.25);
}
</style>

<script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
</head>

<body>
<div id="bgName"><span id="bgNameText">BABE</span></div>
<div id="whispers"></div>

<div class="card" id="mainCard">
  <h1 id="titleText"></h1>
  <p id="subText">It‚Äôs me, <strong>Anthony</strong> ‚Äî big question ahead ü•∫üíò</p>

  <div class="buttons">
    <button id="yesBtn">Yes üíñ</button>
    <button id="noBtn">No üôÉ</button>
  </div>

  <div class="footer">Warning: the ‚ÄúNo‚Äù button is‚Ä¶ dramatic.</div>
</div>

<div class="confetti" id="confetti"></div>

<audio id="bgMusic" loop>
  <source src="theme.mp3" type="audio/mpeg">
</audio>

<div class="card success" id="success">
  <h2 id="yesHeader">YAY ‚Äî GLORIA SAID YES üòåüíñ</h2>
  <p>Pick your Valentine reward:</p>

  <div class="optionArea" id="optionArea"></div>
  <div id="optionResult"></div>

  <div class="buttons" style="margin-top:24px;">
    <button id="restartBtn">Restart üîÅ</button>
  </div>
</div>

<script>
const mainCard=document.getElementById('mainCard');
const yesBtn=document.getElementById('yesBtn');
const noBtn=document.getElementById('noBtn');
const success=document.getElementById('success');
const confetti=document.getElementById('confetti');
const optionArea=document.getElementById('optionArea');
const optionResult=document.getElementById('optionResult');
const restartBtn=document.getElementById('restartBtn');
const bgMusic=document.getElementById('bgMusic');

const titleText=document.getElementById('titleText');
const bgNameText=document.getElementById('bgNameText');
const whispers=document.getElementById('whispers');
const yesHeader=document.getElementById('yesHeader');

let musicStarted=false;
document.addEventListener('click',()=>{
  if(!musicStarted){
    musicStarted=true;
    bgMusic.volume=0;
    bgMusic.play().then(()=>{
      let v=0;
      const fade=setInterval(()=>{
        v+=0.05;
        if(v>=0.35){bgMusic.volume=0.35;clearInterval(fade);}
        else bgMusic.volume=v;
      },100);
    }).catch(()=>{});
  }
});

const noTexts = [
  "No üôÉ","Are you sure? üò≠","Gloriaaaa pls ü•∫","Come on üíî","I told my mom üò©",
  "The confetti is literally waiting‚Ä¶","This is getting personal üò§","You‚Äôre breaking my heart in 4K üì∫üíÄ",
  "I made a whole website‚Ä¶ respectfully","Gloria‚Ä¶ be serious right now üò∂","Okay now I‚Äôm dramatic",
  "Press Yes and I‚Äôll owe you snacks","I‚Äôm calling customer support","System suggestion: choose Yes üíñ",
  "Your Valentine has crashed (me)","No has been temporarily disabled üòå","Final final final chance üò§",
  "Stop clicking No like it‚Äôs a hobby","Yes is looking kinda cute though üëÄ","I‚Äôm gonna tell the sunflowers üåª",
  "Okay okay okay‚Ä¶ YES pls üíñ"
];

let noCount=0;
const earned = new Set();

/* ========= RANDOM NICKNAMES ========= */
const nicknamePool = [
  "Gloria","Babe","Baby","Boo Boo","My Love","Cutie","Sunshine","Pretty Girl",
  "Sweetheart","My Favorite Human","Future Valentine","Heart Stealer","Miss Gorgeous"
];

const chaosNicknamePool = [
  "Miss Clicks No","Professional Heartbreaker","Why Are You Like This","Stop Playing",
  "My Stubborn Queen","Drama Queen","Future Yes Clicker","CEO of No","Captain Chaos"
];

let currentName = "Gloria";

function rerollNickname(){
  const pool = (noCount >= 5) ? chaosNicknamePool : nicknamePool;
  let next = pool[Math.floor(Math.random() * pool.length)];

  // Avoid repeating the same nickname back-to-back
  if (next === currentName && pool.length > 1) {
    next = pool[(pool.indexOf(next) + 1) % pool.length];
  }

  currentName = next;

  titleText.textContent = `${currentName}, will you be my Valentine?`;
  bgNameText.textContent = currentName;
  yesHeader.textContent = `YAY ‚Äî ${String(currentName).toUpperCase()} SAID YES üòåüíñ`;
}

function whisper(msg){
  const s = document.createElement("div");
  s.className = "whisper";
  s.textContent = msg;
  s.style.left = `${35 + Math.random()*30}%`;
  s.style.top  = `${45 + Math.random()*20}%`;
  whispers.appendChild(s);
  setTimeout(()=>s.remove(), 2300);
}

/* ========= YES CHASE (DESKTOP ONLY) ========= */
const isMobile = /Android|iPhone|iPad|iPod/i.test(navigator.userAgent);

function setYesScale(s){
  yesBtn.style.setProperty("--s", String(s));
}
function setYesTranslate(x,y){
  yesBtn.style.setProperty("--tx", `${x}px`);
  yesBtn.style.setProperty("--ty", `${y}px`);
}
function resetYesMotion(){
  setYesTranslate(0,0);
  setYesScale(1);
  yesBtn.style.boxShadow="0 14px 30px rgba(255,77,141,.35)";
  yesBtn.textContent = "Yes üíñ";
}

if(!isMobile){
  document.addEventListener("mousemove",(e)=>{
    // Only chase while on the main screen
    if (mainCard.style.display === "none") return;

    const rect = yesBtn.getBoundingClientRect();
    const cx = rect.left + rect.width/2;
    const cy = rect.top + rect.height/2;

    const dx = e.clientX - cx;
    const dy = e.clientY - cy;
    const dist = Math.hypot(dx,dy);

    // If cursor gets close, nudge toward it
    const radius = 180;
    if(dist < radius){
      const strength = (radius - dist) / radius; // 0..1
      const nx = (dx / (dist || 1)) * (14 * strength);
      const ny = (dy / (dist || 1)) * (10 * strength);
      setYesTranslate(nx, ny);
    } else {
      setYesTranslate(0,0);
    }
  });
}

/* ========= CHAOS HELPERS ========= */
function showToast(msg){
  let t = document.getElementById("toast");
  if(!t){
    t = document.createElement("div");
    t.id = "toast";
    t.className = "toast";
    document.body.appendChild(t);
  }
  t.textContent = msg;
  t.classList.add("show");
  setTimeout(()=>t.classList.remove("show"), 1200);
}

function emojiRain(count=14){
  const em = ["üíñ","üíò","üíó","‚ú®","üåü","üò≠","üò§","üåª","ü´∂","üíû","ü•∫"];
  for(let i=0;i<count;i++){
    const e = document.createElement("div");
    e.className = "emoji";
    e.textContent = em[Math.floor(Math.random()*em.length)];
    e.style.left = `${Math.random()*100}vw`;
    e.style.animationDuration = `${1.1 + Math.random()*1.2}s`;
    e.style.fontSize = `${18 + Math.random()*14}px`;
    document.body.appendChild(e);
    setTimeout(()=>e.remove(), 2200);
  }
}

function miniConfettiBurst(cnt=35){
  confetti.innerHTML='';
  confetti.style.display='block';
  const cols=['#ff4d8d','#ff79a8','#ffd166','#9bf6ff','#bdb2ff','#caffbf'];
  for(let i=0;i<cnt;i++){
    const p=document.createElement('i');
    const sz=6+Math.random()*9;
    p.style.width=`${sz}px`;
    p.style.height=`${sz*1.3}px`;
    p.style.left=`${Math.random()*100}vw`;
    p.style.top=`${-10-Math.random()*20}vh`;
    p.style.background=cols[Math.floor(Math.random()*cols.length)];
    p.style.animationDuration=`${0.9+Math.random()*0.8}s`;
    confetti.appendChild(p);
  }
  setTimeout(()=>{confetti.style.display='none';},1600);
}

function glitchYes(){
  yesBtn.style.boxShadow = "0 0 38px rgba(255,77,141,.85)";
  const s = Math.min(1.10 + noCount*0.06, 1.90);
  setYesScale(s);

  const labels = ["Yes","YES","YESSS","PRESS ME"];
  const label = labels[Math.min(labels.length-1, Math.floor(noCount/4))];
  yesBtn.textContent = `${label}, ${currentName} üíñ`;
}

/* ========= ACHIEVEMENTS ========= */
function unlockAchievement(key, title, subtitle, emoji){
  if (earned.has(key)) return;
  earned.add(key);

  let a = document.getElementById("achievement");
  if(!a){
    a = document.createElement("div");
    a.id = "achievement";
    a.className = "achievement";
    document.body.appendChild(a);
  }

  a.innerHTML = `
    <div class="ach-title">
      <div class="badge">${emoji}</div>
      <div>Achievement Unlocked: ${title}</div>
    </div>
    <div class="ach-sub">${subtitle}</div>
  `;

  a.classList.add("show");
  setTimeout(()=>a.classList.remove("show"), 1800);
}

function checkAchievements(){
  if (noCount === 3)  unlockAchievement("rookie","Heartbreaker (Rookie)","Clicked No three times. Bold.","üèÖ");
  if (noCount === 7)  unlockAchievement("pro","Professional Heartbreaker","Seven No‚Äôs? That‚Äôs talent.","üèÜ");
  if (noCount === 10) unlockAchievement("villain","Romantic Villain Arc","Ten No‚Äôs unlocked your villain era.","üòà");
  if (noCount === 13) unlockAchievement("speedrun","No% Speedrun","You‚Äôre speedrunning heartbreak.","‚è±Ô∏è");
  if (noCount === 17) unlockAchievement("legend","Legendary Resistance","Seventeen No‚Äôs‚Ä¶ okay you‚Äôre powerful.","üåü");
}

/* ========= MAIN FLOW ========= */
function celebrate(){
  mainCard.style.display='none';
  success.style.display='block';
  launchConfetti();
  showOptions();
}

yesBtn.addEventListener('click',()=>{
  // secret achievements based on how fast she folds üò≠
  if (noCount === 0) {
    unlockAchievement("hopeless","Hopeless Romantic","Pressed Yes without hesitation. Respect.","üíû");
    miniConfettiBurst(55);
    emojiRain(10);
  }
  if (noCount === 1) {
    unlockAchievement("tsundere","Tsundere","Clicked No once‚Ä¶ then folded immediately.","üò§üíñ");
    miniConfettiBurst(45);
    emojiRain(8);
  }
  if (noCount === 2) {
    unlockAchievement("notlike","It‚Äôs Not Like I Like You‚Ä¶","Two No‚Äôs then Yes. Suspicious.","üò≥");
    miniConfettiBurst(40);
    emojiRain(7);
  }

  celebrate();
});

noBtn.addEventListener('click',(e)=>{
  e.preventDefault();
  noCount++;

  // full chaos: reroll nickname every time she clicks No
  rerollNickname();

  // whisper chaos
  const whisperLinesA = ["baby‚Ä¶", "babe‚Ä¶", "boo boo‚Ä¶", "pls‚Ä¶", "be fr‚Ä¶", "don‚Äôt do this‚Ä¶ üò≠"];
  const whisperLinesB = ["okay that‚Äôs enough.", "stop playing.", "press yes.", "this is your sign.", "i made a website!!"];
  whisper((noCount >= 5 ? whisperLinesB : whisperLinesA)[Math.floor(Math.random() * (noCount >= 5 ? whisperLinesB.length : whisperLinesA.length))]);

  checkAchievements();

  // Update No text
  noBtn.textContent = noTexts[Math.min(noCount, noTexts.length-1)];

  // YES becomes destiny
  glitchYes();

  // No button shrinks + jitters
  const shrink = Math.max(0.58, 1 - noCount*0.03);
  noBtn.style.transform = `translate(${(Math.random()-0.5)*10}px, ${(Math.random()-0.5)*10}px) scale(${shrink})`;

  // Shake + sometimes flip
  noBtn.classList.remove("shake","flip");
  void noBtn.offsetWidth;
  noBtn.classList.add("shake");
  if (noCount % 3 === 0) noBtn.classList.add("flip");

  // Screen wiggle (subtle)
  document.body.classList.remove("wiggle");
  void document.body.offsetWidth;
  document.body.classList.add("wiggle");
  setTimeout(()=>document.body.classList.remove("wiggle"), 220);

  // Random chaos events
  if (noCount === 4) showToast("üì© Mom: ‚ÄúShe better say yes.‚Äù");
  if (noCount === 6) { emojiRain(18); miniConfettiBurst(45); }
  if (noCount === 8) showToast("‚ö†Ô∏è Warning: Excessive ‚ÄòNo‚Äô detected");
  if (noCount === 10) showToast("System override loading‚Ä¶");
  if (noCount === 12) {
    const oldNo = noBtn.textContent;
    const oldYes = yesBtn.textContent;
    noBtn.textContent = "Yes üíñ (nice try)";
    yesBtn.textContent = "No üôÉ (absolutely not)";
    setTimeout(()=>{ noBtn.textContent = oldNo; glitchYes(); }, 900);
  }

  // 15th click: disable No for 2 seconds + fake loading bar
  if (noCount === 15) {
    noBtn.disabled = true;
    showToast("No is taking a break üòå");
    optionResult.innerHTML = `
      <div class="resultCard" style="text-align:center;">
        <h3>Updating Valentine settings‚Ä¶</h3>
        <div class="loadingBarWrap"><div class="loadingBar"></div></div>
        <p class="tiny">Please hold while Cupid reboots.</p>
      </div>
    `;
    setTimeout(()=>{
      noBtn.disabled = false;
      optionResult.innerHTML = "";
      showToast("No is back (unfortunately)");
    }, 2000);
  }

  // Auto-YES ending + hidden achievement
  if (noCount >= 18) {
    unlockAchievement("youwin","You Win.","Okay fine. I love you.","ü•π");
    showToast("Auto-selecting YES for your safety üíñ");
    setTimeout(()=>yesBtn.click(), 700);
  }
});

function launchConfetti(cnt=120){
  confetti.innerHTML='';
  confetti.style.display='block';
  const cols=['#ff4d8d','#ff79a8','#ffd166','#9bf6ff','#bdb2ff','#caffbf'];
  for(let i=0;i<cnt;i++){
    const p=document.createElement('i');
    const sz=8+Math.random()*10;
    p.style.width=`${sz}px`;
    p.style.height=`${sz*1.4}px`;
    p.style.left=`${Math.random()*100}vw`;
    p.style.top=`${-10-Math.random()*20}vh`;
    p.style.background=cols[Math.floor(Math.random()*cols.length)];
    p.style.animationDuration=`${1.2+Math.random()*1.2}s`;
    confetti.appendChild(p);
  }
  setTimeout(()=>{confetti.style.display='none';},2400);
}

function showOptions(){
  optionArea.innerHTML='';
  optionResult.innerHTML='';
  const opts=[
    { t:"üåª Bouquet of Sunflowers & Lilies", a:showBouquet },
    { t:"üíå A Love Letter", a:()=>{ optionResult.innerHTML=`<div class="resultCard">
      <h3>üíå To ${currentName}</h3>
      <p>
      ${currentName},<br><br>
      I know this website is a little dramatic (okay‚Ä¶ very dramatic),
      but I just wanted to do something thoughtful and fun ‚Äî
      because that‚Äôs how you make me feel.<br><br>
      You have this effortless way of being yourself ‚Äî
      your smile, your energy, the little things you say
      that somehow stay in my head.<br><br>
      Being around you just feels easy. Comfortable. Good.<br><br>
      I‚Äôm genuinely grateful to know you.
      And if you‚Äôll let me,
      I‚Äôd love to keep making memories with you ‚Äî
      more laughs, more moments, more ‚Äúremember when‚Ä¶‚Äù stories.<br><br>
      Also‚Ä¶ I promise snacks.
      And at least one cute selfie together.<br><br>
      <strong>‚Äî Anthony üíñ</strong>
      </p></div>`; } },
    { t:"üéµ QR to Song", a:showQR }
  ];

  opts.sort(()=>Math.random()-0.5);
  opts.forEach(o=>{
    const b=document.createElement('button');
    b.textContent=o.t;
    b.onclick=o.a;
    optionArea.appendChild(b);
  });
}

function showBouquet(){
  optionResult.innerHTML = `
    <div class="resultCard" style="text-align:center;">
      <h3>Sunflowers & Lilies üåªü§ç</h3>
      <img class="bouquet-img" src="bouquet.PNG" alt="Bouquet"
        style="width:100%;max-width:520px;border-radius:20px;margin:18px auto 8px;display:block;box-shadow:0 20px 40px rgba(0,0,0,.18);">
    </div>
  `;
}

function showQR(){
  const songURL="https://open.spotify.com/track/3HxpSe02QPSIQLDqT6Foj9?si=hhz1Om2kQCSIw_KqFQKMtg";
  optionResult.innerHTML=`<div class="resultCard">
    <h3>A little surprise for you üé∂</h3>
    <div class="qrWrap">
      <div class="qrBox"><div id="qrCode"></div></div>
      <button class="primaryBtn" onclick="window.open('${songURL}','_blank')">Open It üíñ</button>
      <div class="tiny">Scan it like it‚Äôs a secret love mission üòå</div>
    </div></div>`;
  new QRCode(document.getElementById("qrCode"),{text:songURL,width:200,height:200});
}

restartBtn.addEventListener('click',()=>{
  success.style.display='none';
  mainCard.style.display='block';

  noCount=0;
  earned.clear();

  noBtn.textContent="No üôÉ";
  noBtn.style.transform='translate(0px,0px) scale(1)';
  noBtn.disabled=false;

  resetYesMotion();

  optionArea.innerHTML='';
  optionResult.innerHTML='';

  // reset nickname + visuals
  rerollNickname();
});

(function init(){
  // set initial nickname
  rerollNickname();

  // and a tiny welcome whisper
  setTimeout(()=>whisper("hi baby‚Ä¶ üíñ"), 600);
})();
</script>

</body>
</html>