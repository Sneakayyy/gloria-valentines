<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Gloria â€” Valentineâ€™s ğŸ’˜</title>

<style>
:root{
  --bg1:#fff1f6;
  --bg2:#ffe4ef;
  --ink:#2a2438;
  --pink:#ff4d8d;
  --pink2:#ff79a8;
  --card:#ffffffcc;
  --shadow:0 20px 60px rgba(0,0,0,.10);
}

*{box-sizing:border-box}

body{
  margin:0;
  min-height:100vh;
  display:grid;
  place-items:center;
  font-family:ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
  color:var(--ink);
  background:
    radial-gradient(1200px 800px at 20% 10%,var(--bg2),transparent 60%),
    radial-gradient(900px 700px at 80% 30%,#ffd1e3,transparent 55%),
    linear-gradient(135deg,var(--bg1),#fff);

  overflow-x:hidden;
  overflow-y:auto;
  -webkit-overflow-scrolling:touch;
  padding:40px 0;
}

.card{
  width:min(760px,92vw);
  background:var(--card);
  border:1px solid rgba(255,77,141,.25);
  border-radius:28px;
  box-shadow:var(--shadow);
  padding:32px 28px;
  backdrop-filter:blur(10px);
  position:relative;
  z-index:1;
}

h1{text-align:center;font-size:clamp(30px,5vw,52px);margin:8px 0;}
p{text-align:center;font-size:clamp(15px,2.4vw,18px);margin:0 0 18px;}

.buttons{
  display:flex;
  gap:14px;
  justify-content:center;
  flex-wrap:wrap;
  min-height:90px;
}

button{
  border:0;
  border-radius:999px;
  padding:14px 22px;
  font-size:18px;
  font-weight:800;
  cursor:pointer;
  touch-action:manipulation;
  transition:transform .15s ease,box-shadow .15s ease, opacity .15s ease;
}

#yesBtn{
  background:linear-gradient(135deg,var(--pink),var(--pink2));
  color:white;
  position:relative;
  z-index:2;
  box-shadow:0 14px 30px rgba(255,77,141,.35);
}

#noBtn{
  background:#fff;
  border:1px solid rgba(42,36,56,.12);
  position:relative;
  z-index:1;
}

.footer{
  text-align:center;
  font-size:12px;
  color:rgba(42,36,56,.55);
  margin-top:16px;
}

.success{display:none;text-align:center;animation:pop .25s ease-out;}
@keyframes pop{from{transform:scale(.96);opacity:0}to{transform:scale(1);opacity:1}}

.confetti{
  position:fixed;
  inset:-10vh -10vw;
  pointer-events:none;
  overflow:hidden;
  display:none;
  z-index:2;
}

.confetti i{
  position:absolute;
  width:10px;
  height:16px;
  border-radius:2px;
  animation:fall 1.8s linear forwards;
}
@keyframes fall{ to{transform:translateY(120vh) rotate(520deg);} }

.optionArea{
  display:flex;
  flex-direction:column;
  gap:12px;
  align-items:center;
  margin-top:18px;
}

.resultCard{
  margin:18px auto 0;
  width:min(560px,94%);
  background:#fff;
  border:1px solid rgba(255,77,141,.18);
  border-radius:18px;
  padding:20px;
  box-shadow:0 12px 26px rgba(0,0,0,.07);
  animation:pop .25s ease-out;
}

.qrWrap{text-align:center;display:grid;place-items:center;gap:10px;}
.qrBox{padding:12px;border-radius:18px;border:1px solid rgba(255,77,141,.20);}
.primaryBtn{background:linear-gradient(135deg,var(--pink),var(--pink2));color:#fff;}
.tiny{font-size:12px;opacity:.65;margin-top:8px;}

/* Bouquet animation */
@keyframes fadeInImage{
  from{opacity:0; transform: translateY(8px) scale(.98);}
  to{opacity:1; transform: translateY(0) scale(1);}
}
.bouquet-img{ animation: fadeInImage .35s ease-out; }

/* ===== CHAOS MODE ===== */
@keyframes shakeBtn {
  0%,100%{transform:translate(0,0)}
  20%{transform:translate(-2px,1px)}
  40%{transform:translate(2px,-1px)}
  60%{transform:translate(-2px,-1px)}
  80%{transform:translate(2px,1px)}
}
.shake { animation: shakeBtn .25s linear; }

@keyframes flipNo { from{transform:rotateY(0)} to{transform:rotateY(360deg)} }
.flip { animation: flipNo .45s ease; }

@keyframes screenWiggle {
  0%,100%{transform:translate(0,0)}
  25%{transform:translate(1px,-1px)}
  50%{transform:translate(-1px,1px)}
  75%{transform:translate(1px,1px)}
}
.wiggle { animation: screenWiggle .18s linear; }

.toast {
  position:fixed;
  left:50%;
  bottom:18px;
  transform:translateX(-50%);
  background:rgba(255,255,255,.92);
  border:1px solid rgba(255,77,141,.25);
  box-shadow:0 18px 36px rgba(0,0,0,.12);
  border-radius:999px;
  padding:10px 14px;
  font-weight:800;
  z-index:999;
  opacity:0;
  transition:opacity .18s ease, transform .18s ease;
  pointer-events:none;
}
.toast.show { opacity:1; transform:translateX(-50%) translateY(-6px); }

.emoji {
  position:fixed;
  top:-30px;
  font-size:22px;
  z-index:2;
  pointer-events:none;
  animation: emojiFall 1.7s linear forwards;
  opacity:.95;
}
@keyframes emojiFall { to { transform:translateY(110vh) rotate(360deg); opacity:0.95; } }

.loadingBarWrap{
  width:min(520px,92%);
  margin:14px auto 0;
  height:12px;
  border-radius:999px;
  border:1px solid rgba(255,77,141,.25);
  background:rgba(255,255,255,.6);
  overflow:hidden;
}
.loadingBar{
  height:100%;
  width:0%;
  background:linear-gradient(135deg, var(--pink), var(--pink2));
  animation: loadBar 2s ease forwards;
}
@keyframes loadBar { to { width:100%; } }

/* ===== ACHIEVEMENTS ===== */
.achievement{
  position:fixed;
  top:18px;
  right:18px;
  width:min(320px,86vw);
  background:rgba(255,255,255,.95);
  border:1px solid rgba(255,77,141,.30);
  box-shadow:0 18px 44px rgba(0,0,0,.16);
  border-radius:18px;
  padding:12px 14px;
  z-index:1000;
  opacity:0;
  transform:translateY(-10px) scale(.98);
  transition:opacity .18s ease, transform .18s ease;
  pointer-events:none;
}
.achievement.show{ opacity:1; transform:translateY(0) scale(1); }
.ach-title{
  font-weight:900;
  font-size:14px;
  letter-spacing:.3px;
  display:flex;
  align-items:center;
  gap:8px;
}
.ach-sub{ font-size:12px; opacity:.75; margin-top:4px; }
.badge{
  width:28px;height:28px;border-radius:10px;
  display:grid;place-items:center;
  background:linear-gradient(135deg, rgba(255,77,141,.18), rgba(255,121,168,.14));
  border:1px solid rgba(255,77,141,.25);
}
</style>

<script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
</head>

<body>

<div class="card" id="mainCard">
  <h1>Gloria, will you be my Valentine?</h1>
  <p>Itâ€™s me, <strong>Anthony</strong> â€” big question ahead ğŸ¥ºğŸ’˜</p>

  <div class="buttons">
    <button id="yesBtn">Yes ğŸ’–</button>
    <button id="noBtn">No ğŸ™ƒ</button>
  </div>

  <div class="footer">Warning: the â€œNoâ€ button isâ€¦ dramatic.</div>
</div>

<div class="confetti" id="confetti"></div>

<audio id="bgMusic" loop>
  <source src="theme.mp3" type="audio/mpeg">
</audio>

<div class="card success" id="success">
  <h2>YAY â€” GLORIA SAID YES ğŸ˜ŒğŸ’–</h2>
  <p>Pick your Valentine reward:</p>

  <div class="optionArea" id="optionArea"></div>
  <div id="optionResult"></div>

  <div class="buttons" style="margin-top:24px;">
    <button id="restartBtn">Restart ğŸ”</button>
  </div>
</div>

<script>
const mainCard=document.getElementById('mainCard');
const yesBtn=document.getElementById('yesBtn');
const noBtn=document.getElementById('noBtn');
const success=document.getElementById('success');
const confetti=document.getElementById('confetti');
const optionArea=document.getElementById('optionArea');
const optionResult=document.getElementById('optionResult');
const restartBtn=document.getElementById('restartBtn');
const bgMusic=document.getElementById('bgMusic');

let musicStarted=false;
document.addEventListener('click',()=>{
  if(!musicStarted){
    musicStarted=true;
    bgMusic.volume=0;
    bgMusic.play().then(()=>{
      let v=0;
      const fade=setInterval(()=>{
        v+=0.05;
        if(v>=0.35){bgMusic.volume=0.35;clearInterval(fade);}
        else bgMusic.volume=v;
      },100);
    }).catch(()=>{});
  }
});

const noTexts = [
  "No ğŸ™ƒ","Are you sure? ğŸ˜­","Gloriaaaa pls ğŸ¥º","Come on ğŸ’”","I told my mom ğŸ˜©",
  "The confetti is literally waitingâ€¦","This is getting personal ğŸ˜¤","Youâ€™re breaking my heart in 4K ğŸ“ºğŸ’€",
  "I made a whole websiteâ€¦ respectfully","Gloriaâ€¦ be serious right now ğŸ˜¶","Okay now Iâ€™m dramatic",
  "Press Yes and Iâ€™ll owe you snacks","Iâ€™m calling customer support","System suggestion: choose Yes ğŸ’–",
  "Your Valentine has crashed (me)","No has been temporarily disabled ğŸ˜Œ","Final final final chance ğŸ˜¤",
  "Stop clicking No like itâ€™s a hobby","Yes is looking kinda cute though ğŸ‘€","Iâ€™m gonna tell the sunflowers ğŸŒ»",
  "Okay okay okayâ€¦ YES pls ğŸ’–"
];

let noCount=0;
const earned = new Set();

yesBtn.addEventListener('click',()=>{
  if (noCount === 0) {
    unlockAchievement("hopeless","Hopeless Romantic","Pressed Yes without hesitation. Respect.","ğŸ’");
    miniConfettiBurst(55);
    emojiRain(10);
  }
  if (noCount === 1) {
    unlockAchievement("tsundere","Tsundere","Clicked No onceâ€¦ then folded immediately.","ğŸ˜¤ğŸ’–");
    miniConfettiBurst(45);
    emojiRain(8);
  }

  mainCard.style.display='none';
  success.style.display='block';
  launchConfetti();
  showOptions();
});

function showToast(msg){
  let t = document.getElementById("toast");
  if(!t){
    t = document.createElement("div");
    t.id = "toast";
    t.className = "toast";
    document.body.appendChild(t);
  }
  t.textContent = msg;
  t.classList.add("show");
  setTimeout(()=>t.classList.remove("show"), 1200);
}

function emojiRain(count=14){
  const em = ["ğŸ’–","ğŸ’˜","ğŸ’—","âœ¨","ğŸŒŸ","ğŸ˜­","ğŸ˜¤","ğŸŒ»","ğŸ«¶","ğŸ’"];
  for(let i=0;i<count;i++){
    const e = document.createElement("div");
    e.className = "emoji";
    e.textContent = em[Math.floor(Math.random()*em.length)];
    e.style.left = `${Math.random()*100}vw`;
    e.style.animationDuration = `${1.1 + Math.random()*1.2}s`;
    e.style.fontSize = `${18 + Math.random()*14}px`;
    document.body.appendChild(e);
    setTimeout(()=>e.remove(), 2200);
  }
}

function miniConfettiBurst(cnt=35){
  confetti.innerHTML='';
  confetti.style.display='block';
  const cols=['#ff4d8d','#ff79a8','#ffd166','#9bf6ff','#bdb2ff','#caffbf'];
  for(let i=0;i<cnt;i++){
    const p=document.createElement('i');
    const sz=6+Math.random()*9;
    p.style.width=`${sz}px`;
    p.style.height=`${sz*1.3}px`;
    p.style.left=`${Math.random()*100}vw`;
    p.style.top=`${-10-Math.random()*20}vh`;
    p.style.background=cols[Math.floor(Math.random()*cols.length)];
    p.style.animationDuration=`${0.9+Math.random()*0.8}s`;
    confetti.appendChild(p);
  }
  setTimeout(()=>{confetti.style.display='none';},1600);
}

function glitchYes(){
  yesBtn.style.boxShadow = "0 0 38px rgba(255,77,141,.85)";
  yesBtn.style.transform = `scale(${Math.min(1.15 + noCount*0.06, 1.95)})`;
  const labels = ["Yes ğŸ’–","YES ğŸ’–","YESSS ğŸ’–","PRESS ME ğŸ’–"];
  yesBtn.textContent = labels[Math.min(labels.length-1, Math.floor(noCount/4))];
}

function unlockAchievement(key, title, subtitle, emoji){
  if (earned.has(key)) return;
  earned.add(key);

  let a = document.getElementById("achievement");
  if(!a){
    a = document.createElement("div");
    a.id = "achievement";
    a.className = "achievement";
    document.body.appendChild(a);
  }

  a.innerHTML = `
    <div class="ach-title">
      <div class="badge">${emoji}</div>
      <div>Achievement Unlocked: ${title}</div>
    </div>
    <div class="ach-sub">${subtitle}</div>
  `;

  a.classList.add("show");
  setTimeout(()=>a.classList.remove("show"), 1800);
}

function checkAchievements(){
  if (noCount === 3)  unlockAchievement("rookie","Heartbreaker (Rookie)","Clicked No three times. Bold.","ğŸ…");
  if (noCount === 7)  unlockAchievement("pro","Professional Heartbreaker","Seven Noâ€™s? Thatâ€™s talent.","ğŸ†");
  if (noCount === 10) unlockAchievement("villain","Romantic Villain Arc","Ten Noâ€™s unlocked your villain era.","ğŸ˜ˆ");
  if (noCount === 13) unlockAchievement("speedrun","No% Speedrun","Youâ€™re speedrunning heartbreak.","â±ï¸");
  if (noCount === 17) unlockAchievement("legend","Legendary Resistance","Seventeen Noâ€™sâ€¦ okay youâ€™re powerful.","ğŸŒŸ");
}

noBtn.addEventListener('click',(e)=>{
  e.preventDefault();
  noCount++;

  checkAchievements();

  noBtn.textContent = noTexts[Math.min(noCount, noTexts.length-1)];
  glitchYes();

  const shrink = Math.max(0.58, 1 - noCount*0.03);
  noBtn.style.transform = `translate(${(Math.random()-0.5)*10}px, ${(Math.random()-0.5)*10}px) scale(${shrink})`;

  noBtn.classList.remove("shake","flip");
  void noBtn.offsetWidth;
  noBtn.classList.add("shake");
  if (noCount % 3 === 0) noBtn.classList.add("flip");

  document.body.classList.remove("wiggle");
  void document.body.offsetWidth;
  document.body.classList.add("wiggle");
  setTimeout(()=>document.body.classList.remove("wiggle"), 220);

  if (noCount === 4) showToast("ğŸ“© Mom: â€œShe better say yes.â€");
  if (noCount === 6) { emojiRain(18); miniConfettiBurst(45); }
  if (noCount === 8) showToast("âš ï¸ Warning: Excessive â€˜Noâ€™ detected");
  if (noCount === 10) showToast("System override loadingâ€¦");
  if (noCount === 12) {
    const oldNo = noBtn.textContent;
    const oldYes = yesBtn.textContent;
    noBtn.textContent = "Yes ğŸ’– (nice try)";
    yesBtn.textContent = "No ğŸ™ƒ (absolutely not)";
    setTimeout(()=>{ noBtn.textContent = oldNo; yesBtn.textContent = oldYes; }, 900);
  }

  if (noCount === 15) {
    noBtn.disabled = true;
    showToast("No is taking a break ğŸ˜Œ");
    optionResult.innerHTML = `
      <div class="resultCard" style="text-align:center;">
        <h3>Updating Valentine settingsâ€¦</h3>
        <div class="loadingBarWrap"><div class="loadingBar"></div></div>
        <p class="tiny">Please hold while Cupid reboots.</p>
      </div>
    `;
    setTimeout(()=>{
      noBtn.disabled = false;
      optionResult.innerHTML = "";
      showToast("No is back (unfortunately)");
    }, 2000);
  }

  if (noCount >= 18) {
    showToast("Auto-selecting YES for your safety ğŸ’–");
    setTimeout(()=>yesBtn.click(), 700);
  }
});

function launchConfetti(cnt=120){
  confetti.innerHTML='';
  confetti.style.display='block';
  const cols=['#ff4d8d','#ff79a8','#ffd166','#9bf6ff','#bdb2ff','#caffbf'];
  for(let i=0;i<cnt;i++){
    const p=document.createElement('i');
    const sz=8+Math.random()*10;
    p.style.width=`${sz}px`;
    p.style.height=`${sz*1.4}px`;
    p.style.left=`${Math.random()*100}vw`;
    p.style.top=`${-10-Math.random()*20}vh`;
    p.style.background=cols[Math.floor(Math.random()*cols.length)];
    p.style.animationDuration=`${1.2+Math.random()*1.2}s`;
    confetti.appendChild(p);
  }
  setTimeout(()=>{confetti.style.display='none';},2400);
}

function showOptions(){
  optionArea.innerHTML='';
  optionResult.innerHTML='';
  const opts=[
    { t:"ğŸŒ» Bouquet of Sunflowers & Lilies", a:showBouquet },
    { t:"ğŸ’Œ A Love Letter", a:()=>{ optionResult.innerHTML=`<div class="resultCard">
      <h3>ğŸ’Œ To Gloria</h3>
      <p>
      Gloria,<br><br>
      I know this website is a little dramatic (okayâ€¦ very dramatic),
      but I just wanted to do something thoughtful and fun â€”
      because thatâ€™s how you make me feel.<br><br>
      You have this effortless way of being yourself â€”
      your smile, your energy, the little things you say
      that somehow stay in my head.<br><br>
      Being around you just feels easy. Comfortable. Good.<br><br>
      Iâ€™m genuinely grateful to know you.
      And if youâ€™ll let me,
      Iâ€™d love to keep making memories with you â€”
      more laughs, more moments, more â€œremember whenâ€¦â€ stories.<br><br>
      Alsoâ€¦ I promise snacks.
      And at least one cute selfie together.<br><br>
      <strong>â€” Anthony ğŸ’–</strong>
      </p></div>`; } },
    { t:"ğŸµ QR to Song", a:showQR }
  ];

  opts.sort(()=>Math.random()-0.5);
  opts.forEach(o=>{
    const b=document.createElement('button');
    b.textContent=o.t;
    b.onclick=o.a;
    optionArea.appendChild(b);
  });
}

function showBouquet(){
  optionResult.innerHTML = `
    <div class="resultCard" style="text-align:center;">
      <h3>Sunflowers & Lilies ğŸŒ»ğŸ¤</h3>
      <img class="bouquet-img" src="bouquet.PNG" alt="Hand drawn bouquet"
        style="width:100%;max-width:520px;border-radius:20px;margin:18px auto 8px;display:block;box-shadow:0 20px 40px rgba(0,0,0,.18);">
    </div>
  `;
}

function showQR(){
  const songURL="https://open.spotify.com/track/3HxpSe02QPSIQLDqT6Foj9?si=hhz1Om2kQCSIw_KqFQKMtg";
  optionResult.innerHTML=`<div class="resultCard">
    <h3>A little surprise for you ğŸ¶</h3>
    <div class="qrWrap">
      <div class="qrBox"><div id="qrCode"></div></div>
      <button class="primaryBtn" onclick="window.open('${songURL}','_blank')">Open It ğŸ’–</button>
      <div class="tiny">Scan it like itâ€™s a secret love mission ğŸ˜Œ</div>
    </div></div>`;
  new QRCode(document.getElementById("qrCode"),{text:songURL,width:200,height:200});
}

restartBtn.addEventListener('click',()=>{
  success.style.display='none';
  mainCard.style.display='block';

  noCount=0;
  earned.clear();

  noBtn.textContent="No ğŸ™ƒ";
  noBtn.style.transform='translate(0px,0px) scale(1)';
  noBtn.disabled=false;

  yesBtn.textContent="Yes ğŸ’–";
  yesBtn.style.transform='scale(1)';
  yesBtn.style.boxShadow="0 14px 30px rgba(255,77,141,.35)";

  optionArea.innerHTML='';
  optionResult.innerHTML='';
});
</script>

</body>
</html>